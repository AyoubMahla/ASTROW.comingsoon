<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ASTROW - Coming Soon</title>
<style>
  @font-face {
    font-family: 'AstrowFont';
    src: url('AstrowFont.ttf') format('opentype');
  }

  body, html {
    width:100%; height:100%; margin:0; padding:0;
    background:#0a0a0a; font-family:'AstrowFont'; color:#fff;
    display:flex; justify-content:center; align-items:center;
    flex-direction:column; text-align:center; overflow:hidden;
  }

  canvas {
    position:fixed; top:0; left:0; width:100%; height:100%;
    z-index:0; pointer-events:none;
  }

  #content {
    position:relative; z-index:1;
    display:flex; flex-direction:column; align-items:center; gap:15px;
    padding: 0 20px;
  }

  #logoContainer { display:flex; align-items:center; gap:15px; justify-content:center; }
  .logo { width: 100px; height: auto; }

  .star {
    width: 100px;
    height: 100px;
    background: url('whitestar.png') no-repeat center/contain;
    animation: spin 5s linear infinite;
  }

  @keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

  #subtitle { font-size:25px; margin-bottom:5px; }
  #comingSoon { font-size:20px; margin-bottom:5px; max-width:300px; line-height:1.4; }

  #registerForm {
    display:flex; align-items:center; gap:10px;
    background:rgba(255,255,255,0.05); padding:10px 15px;
    border:2px solid #fff; border-radius:10px;
  }

  #countrySelect, #phoneInput {
    padding:10px; font-size:1rem; border:none; border-radius:5px; outline:none;
    background:#fff; color:#000; text-align:center; font-family:'AstrowFont';
  }

  #countrySelect { width:120px; }
  #phoneInput { width:180px; }

  #confirmBtn {
    padding:10px 20px; font-size:1rem; border:none; background:#fff;
    color:#0a0a0a; cursor:pointer; font-family:'AstrowFont'; transition:0.3s;
    border-radius:5px;
  }
  #confirmBtn:hover { background:#000; color:#fff; }

  /* ----------- VERSION TABLETTE ----------- */
  @media (max-width: 768px) {
    .logo { width: 80px; }
    .star { width: 80px; height: 80px; }
    #subtitle { font-size:20px; }
    #comingSoon { font-size:16px; }

    #registerForm {
      padding:8px 10px;
      gap:6px;
    }

    #countrySelect { width:100px; font-size:0.9rem; padding:8px; }
    #phoneInput { width:150px; font-size:0.9rem; padding:8px; }
    #confirmBtn { padding:8px 15px; font-size:0.9rem; }
  }

  /* ----------- VERSION MOBILE ----------- */
  @media (max-width: 480px) {
    .logo { width: 70px; }
    .star { width: 70px; height: 70px; }
    #subtitle { font-size:18px; }
    #comingSoon { font-size:14px; }

    #registerForm {
      padding:6px 8px;
      gap:5px;
      border-width:1.5px;
    }

    #countrySelect { width:90px; font-size:0.8rem; padding:6px; }
    #phoneInput { width:130px; font-size:0.8rem; padding:6px; }
    #confirmBtn { padding:6px 12px; font-size:0.8rem; }
  }
</style>
</head>
<body>

<canvas id="particles"></canvas>

<div id="content">
  <div id="logoContainer">
    <img src="ASTROW.png" alt="ASTROW Logo" class="logo">
    <div class="star"></div>
  </div>

  <div id="subtitle">Aim the stars.</div>
  <div id="comingSoon">Coming soon... Enter your number to be informed as soon as the drop is released!</div>

  <form id="registerForm">
    <select id="countrySelect" name="entry.ContryCode">
      <option value="+33">France +33</option>
      <option value="+1">USA +1</option>
      <option value="+44">UK +44</option>
      <option value="+49">Germany +49</option>
      <option value="+212">Morocco +212</option>
    </select>
    <input type="tel" id="phoneInput" name="entry.PhoneNumber" placeholder="Phone number" required>
    <button type="submit" id="confirmBtn">Confirm</button>
  </form>
</div>

<script>
// animation étoiles
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let stars = Array.from({length:100}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*1.5 + 0.5,
  alpha: Math.random()*0.5 + 0.5,
  delta: Math.random()*0.02 + 0.005,
  speed: Math.random()*0.3 + 0.02
}));

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  stars.forEach(s => {
    s.alpha += s.delta;
    if (s.alpha > 1 || s.alpha < 0.3) s.delta = -s.delta;
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, 2*Math.PI);
    ctx.fill();
    s.y += s.speed;
    if (s.y > canvas.height) s.y = 0;
  });
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

// soumission du formulaire
document.getElementById('registerForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const country = document.getElementById('countrySelect').value;
  const phone = document.getElementById('phoneInput').value;

  fetch('https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse', {
    method: 'POST',
    mode: 'no-cors',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: `entry.ContryCode=${encodeURIComponent(country)}&entry.PhoneNumber=${encodeURIComponent(phone)}`
  }).then(() => {
    document.getElementById('content').innerHTML = `
      <div style="font-size:24px; font-family:'AstrowFont';">
        Your number has been registered!<br>
        You will soon receive a confirmation via SMS.
      </div>
    `;
  }).catch(err => {
    console.error('Erreur:', err);
    document.getElementById('content').innerHTML = `
      <div style="font-size:24px; font-family:'AstrowFont'; color:#ff6666;">
        Something went wrong, but your number may have been registered.<br>
        Try again later.
      </div>
    `;
  });

  console.log("Envoyé:", country + phone);
});
</script>

</body>
</html>