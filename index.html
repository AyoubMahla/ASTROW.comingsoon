<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ASTROW</title>
<style>
body, html { width:100%; height:100%; margin:0; padding:0; background:#0a0a0a; color:#fff; display:flex; justify-content:center; align-items:center; flex-direction:column; font-family:sans-serif; text-align:center; }
#content { position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; gap:15px; }
#registerForm { display:flex; gap:10px; background: rgba(255,255,255,0.05); padding:10px 15px; border:2px solid #fff; border-radius:6px; width:90%; max-width:550px; }
#countrySelect, #phoneInput, #confirmBtn { flex:1; padding:10px; font-size:1rem; border:none; border-radius:4px; outline:none; text-align:center; }
#countrySelect, #phoneInput { background: rgba(255,255,255,0.15); color:#fff; }
#confirmBtn { background:#fff; color:#0a0a0a; cursor:pointer; transition:0.3s; flex:0 0 auto; }
#confirmBtn:hover { background:#000; color:#fff; }
</style>
</head>
<body>

<div id="content">
  <h1>ASTROW</h1>
  <p>Aim the stars. Coming soon... Enter your number!</p>
  <form id="registerForm">
    <select id="countrySelect">
      <option value="+33">France +33</option>
      <option value="+1">USA +1</option>
      <option value="+44">UK +44</option>
      <option value="+49">Germany +49</option>
      <option value="+212">Morocco +212</option>
    </select>
    <input type="tel" id="phoneInput" placeholder="Phone number" required>
    <button type="submit" id="confirmBtn">Confirm</button>
  </form>
</div>

<script>
// URL de ton Google Form (remplace par ton propre Form ID)
const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSdN_x3Wnu8OjdMQIPxhfhlWobVidRmi_MVGIqUMAXFGhLxK3g/formResponse';

// IDs des champs dans Google Form (à tester et corriger après premier essai)
const ENTRY_COUNTRY = 'entry.123456789';  // à tester
const ENTRY_PHONE = 'entry.987654321';    // à tester

document.getElementById('registerForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const country = document.getElementById('countrySelect').value;
  let phone = document.getElementById('phoneInput').value.trim();

  // Validation simple pour la France
  if(country === '+33') {
    if(phone.startsWith('0')) phone = phone.substring(1); // retire le 0 initial
    if(phone.length < 9) {
      alert('Veuillez entrer un numéro valide (9 chiffres après le 0).');
      return;
    }
  }

  // Envoi vers Google Form
  fetch(GOOGLE_FORM_URL, {
    method: 'POST',
    mode: 'no-cors',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: `${ENTRY_COUNTRY}=${encodeURIComponent(country)}&${ENTRY_PHONE}=${encodeURIComponent(phone)}`
  }).then(() => {
    document.getElementById('content').innerHTML = '<h2>Merci !</h2><p>Votre numéro a été enregistré. Vous recevrez bientôt une confirmation.</p>';
  }).catch(() => {
    document.getElementById('content').innerHTML = '<h2>Erreur</h2><p>Quelque chose s\'est mal passé, mais votre numéro peut avoir été enregistré.</p>';
  });
});
</script>

</body>
</html>